<nb-card>
  <nb-card-header *ngIf="retrievedImage">
    <p >Liste des artistes</p>
    </nb-card-header>
  <nb-card-body>
    <div style="margin-left: 20px;margin-right: 20px;">
      <nb-card>
        <nb-card-body>
         <!-- <td>
            <a (click)="ajouter()" *ngFor="let status of statuses4" nbButton [status]="status" outline>
              Ajout artiste</a>
          </td>--> 
          <br>
          <a style="cursor: pointer" (click)="exportexcel()" class="img">
            <img [src]="'assets/images/Excel-Transparent.png'" />
          </a>

          <a style="cursor: pointer" (click)="openPDF()" class="img">
            <img [src]="'assets/images/pdf_icone.png'" />
          </a>
          <br>
          <br>
          <table id="table-orange-stat" datatable [dtOptions]="dtOptions" [dtTrigger]="dtTrigger"
          class="table table-striped table-bordered table-sm row-border hover">
            <thead>
              <tr>
                <th>Actions</th>
                <th>Image</th>
                <th>Nom Artiste</th>
                <th>Prénom Artiste</th>
                <th>Nom artestique</th>
                <th>Télephone</th>
                <th>E-mail</th>
                <th>Nationnalite</th>
                <th>Part</th>
              </tr>
            </thead>
            <tbody>
              <tr *ngFor="let p of artistes"> 
                <td>
                  <table>
                    <tr>
                      <div class="buttons-row">
                        <td>
                          <a (click)="revenu(p)" *ngFor="let status of statuses6" nbButton [status]="status" outline>
                            <img [src]="'assets/images/revenu_2.png'" /></a>
                        </td>
                        <td>
                          <a (click)="details(p)" *ngFor="let status of statuses" nbButton [status]="status" outline>
                            <img [src]="'assets/images/detail.png'" /></a>
                        </td>
                        <td>
                          <a (click)="modifier(p)" *ngFor="let status of statuses2" nbButton [status]="status" outline>
                            <img [src]="'assets/images/edit.png'" /></a>
                        </td>
                        <td>
                          <a (click)="delete(p)" *ngFor="let status of statuses3" nbButton [status]="status"
                            outline><img [src]="'assets/images/supprimer.png'" /></a>
                        </td>
                      </div>
                    </tr>
                  </table>
                </td>
                <td>
                  <div *ngIf="retrievedImage">
                    <img style="width: 100px;height: 100px;border-radius: 100%;" [src]="p.picByte">
                  </div>
                  <div *ngIf="!retrievedImage">
                    <img style="width: 100px;height: 100px;border-radius: 100%;" src="/assets/images/noPhoto.png">
                  </div>
                </td>
                <td>{{ p.nom}}</td>
                <td>{{ p.prenom }}</td>
                <td>{{ p.nArtistique }}</td>
                <td>{{ p.phone }}</td>
                <td>{{ p.email }}</td>
                <td>{{ p.nationnalite }}</td>
                <td>{{ p.part }}</td>
              </tr>
            </tbody>
          </table>
        </nb-card-body>
      </nb-card>
    </div>
    <p-dialog [modal]="true" header="Fiche artiste" [(visible)]="displayBasic" [style]="{width: '50vw'}"
      [baseZIndex]="10000">
      <ngx-detail-artiste [artiste]="currentartiste"></ngx-detail-artiste>
      <ng-template pTemplate="footer">
        <p-button icon="pi pi-check" (click)="displayBasic=false" label="Ok" styleClass="p-button-text">
        </p-button>
      </ng-template>
    </p-dialog>

    <p-dialog [modal]="true" [(visible)]="displayBasic2" [style]="{width: '40vw'}" [baseZIndex]="10000">
      <ngx-generate-pdf [inputUser]="currentdetails"></ngx-generate-pdf>
      <ng-template pTemplate="footer">
        <p-button icon="pi pi-check" (click)="displayBasic2=false" label="Ok" styleClass="p-button-text">
        </p-button>
      </ng-template>
    </p-dialog>
 

  </nb-card-body>
</nb-card>