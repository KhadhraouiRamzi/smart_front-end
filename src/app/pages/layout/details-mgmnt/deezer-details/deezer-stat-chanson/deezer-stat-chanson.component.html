<nb-card>
    <nb-card-header>
      Tendances quotidiennes Deezer
    </nb-card-header>

    <nb-card-body>
      <div style="margin-left: 20px;margin-right: 20px;">
        <nb-card-header>
          <nb-accordion *ngIf="token.getUser().roles=='ROLE_ADMIN'">
            <nb-accordion-item>
              <nb-accordion-item-header>
                Importer fichier Deezer
              </nb-accordion-item-header>
              <nb-accordion-item-body>
                <div *ngIf="message && message.length>0 && !submitted" class="alert alert-success">
                  <div><strong>{{this.message}} </strong></div>
                </div>

                <div *ngIf="messageError && messageError.length>0 && submitted" class="alert alert-danger  ">
                  <div><strong>{{this.messageError}} </strong></div>
                </div>

                <div class="col-md-12 col-lg-12 col-xxxl-11" center>
                  <nb-card>
                    <nb-card-body>

                      <div>
                        <div style="float: left;flex-flow: row wrap">
                                 <input type="file" (change)="selectFile($event)"> NB: Le fichier
                          il doit etre de type "Classeur Excel" (.xlsx) !
                        </div>
                          
                        <div style="float: right;flex-flow: row wrap">
                                
                          <button class="btn btn-primary btn-lg active" (click)="uploadd()" value="upload">Upload
                          </button>
                        </div>
                      </div>

                    </nb-card-body>
                  </nb-card>
                </div>
              </nb-accordion-item-body>
            </nb-accordion-item>
          </nb-accordion>
          <br>
          <div width="1100"> Listes chansons</div>
        </nb-card-header>
        <nb-card>
          <nb-card-body>
            <td>
              <a (click)="Artiste()" *ngFor="let status of statuses6" nbButton [status]="status" outline>
                Par Artiste</a>
              <a class="card-header" (click)="Chanson()" *ngFor="let status of statuses" nbButton [status]="status"
              hero>
                Par Chanson</a>
              <a (click)="Pays()" *ngFor="let status of statuses3" nbButton [status]="status" outline>
                Par Pays</a>
               <!--<a (click)="Plateforme()" *ngFor="let status of statuses5" nbButton [status]="status" outline>
                Par Plateforme</a>-->
              <a (click)="Abonnement()" *ngFor="let status of statuses5" nbButton [status]="status" outline>
                Abonnement streaming</a>

              <a (click)="Mois()" *ngFor="let status of statuses2" nbButton [status]="status" outline>
                Date d'écoute</a>

            </td>
            <br>
            <div class="card-header">

              <a style="cursor: pointer" (click)="exportexcel()" class="img">
                <img [src]="'assets/images/Excel-Transparent.png'" />
              </a>

              <a style="cursor: pointer" (click)="openPDF()" class="img">
                <img [src]="'assets/images/pdf_icone.png'" />
              </a>
              <br>
              <br>
              <table id="table-deezer-stat-chanson" datatable [dtOptions]="dtOptions" [dtTrigger]="dtTrigger"
                class="table table-striped table-bordered table-sm row-border hover">
                <thead>
                  <tr>
                    <th>Pays</th>
                    <th class="th-center">Révenu Globale Opération</th>
                    <th class="th-center">Nombre d'écoute</th>
                    <th class="th-center">Révenu Globale Smart</th> 
                    <th class="th-center">Part artiste</th>
                  </tr>
                </thead>
                <tbody>
                  <tr *ngFor="let p of details">
                    <td>{{ p[0] }}</td>
                    <td class="th-center">{{ p[1] | number: '.3' }}</td>
                    <td class="th-center">{{ p[2] | number }}</td>
                    <td class="th-center">{{ p[3] | number: '.3' }}</td>
                    <td class="th-center">{{ p[4] | number: '.3' }}</td>
                  </tr>
                </tbody>
                <tfoot>
                  <tr>
                    <th>Total</th>
                    <th class="th-nober"></th>
                    <th class="th-center"></th>
                    <th class="th-nober"></th>
                    <th class="th-nober"></th>
                  </tr>
                </tfoot>
              </table>
            </div>
          </nb-card-body>
        </nb-card>
      </div>
    </nb-card-body>
  </nb-card>
