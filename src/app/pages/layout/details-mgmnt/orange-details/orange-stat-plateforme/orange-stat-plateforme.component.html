<nb-card>
    <nb-card-header>
        Tendances quotidiennes Orange
    </nb-card-header>

    <nb-card-body>
        <div style="margin-left: 20px;margin-right: 20px;">
            <nb-card-header>
                <nb-accordion  *ngIf="token.getUser().roles=='ROLE_ADMIN'">
                    <nb-accordion-item #item *ngFor="let status of statuses4" [status]="status" outline>
                        <nb-accordion-item-header>
                            Importer fichier Orange
                        </nb-accordion-item-header>
                        <nb-accordion-item-body>
                            <nb-alert status="success" *ngIf="this.statut==200">{{this.message}}</nb-alert>

                            <div class="col-md-12 col-lg-12 col-xxxl-11" center>
                                <nb-card>
                                    <nb-card-body>

                                        <div>
                                            <div style="float: left;flex-flow: row wrap">
                                                       <input type="file" (change)="selectFile($event)"> NB: Le fichier
                                                il doit etre de type "Classeur Excel" (.xlsx) !
                                            </div>  
                                            <div style="float: right;flex-flow: row wrap">
                                                       <button class="btn btn-primary btn-lg active" (click)="uploadd()"
                                                    value="upload">Upload</button>
                                            </div>
                                        </div>

                                    </nb-card-body>
                                </nb-card>
                            </div>
                        </nb-accordion-item-body>
                    </nb-accordion-item>
                </nb-accordion>
                <table>
                    <br>
                    <tr>
                        <td width="1100"> Listes plateformes</td>

                    </tr>
                </table>
            </nb-card-header>
            <nb-card>
                <nb-card-body>
                    <td>
                        <table>
                            <tr>
                                <td> <a (click)="Mois()" *ngFor="let status of statuses2" nbButton [status]="status"
                                  outline>
                                        Date d'écoute</a></td>
                                <td *ngIf="token.getUser().roles=='ROLE_ADMIN'"><a (click)="Artiste()"
                                        *ngFor="let status of statuses6" nbButton [status]="status" outline>
                                        Artiste </a></td>
                                <td> <a class="card-header" (click)="Chanson()" *ngFor="let status of statuses" nbButton
                                        [status]="status" outline>
                                        Chanson</a></td>
                                <td> <a (click)="Plateforme()" *ngFor="let status of statuses5" nbButton
                                        [status]="status" hero>
                                        Plateforme</a></td>
                                <td> <a (click)="Categorie()" *ngFor="let status of statuses3" nbButton
                                        [status]="status" outline>
                                        Categorie</a>
                                </td>
                            </tr>
                        </table>
                    </td>
                    <br>
                    <div class="card-header">

                        <a style="cursor: pointer" (click)="exportexcel()" class="img">
                            <img [src]="'assets/images/Excel-Transparent.png'" />
                        </a>

                        <a style="cursor: pointer" (click)="openPDF()" class="img">
                            <img [src]="'assets/images/pdf_icone.png'" />
                        </a>
                        <br>
                        <br>
                        <table id="table-orange-stat-platforme" datatable [dtOptions]="dtOptions" [dtTrigger]="dtTrigger"
                        class="table table-striped table-bordered table-sm row-border hover">
                            <thead>
                                <tr>
                                    <th>Nom plateforme</th>
                                    <th class="th-center">Nombre d'écoute</th>
                                    <th class="th-center" *ngIf="token.getUser().roles=='ROLE_ADMIN'">Révenu Globale Opération</th>
                                    <th class="th-center">Révenu Globale Smart</th>
                                    <th class="th-center">Tax Telecom</th>
                                     <th class="th-center">HTVA</th>
                                    <th class="th-center">Part artiste</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr *ngFor="let p of details">
                                    <td >{{ p[0] }}</td>
                                    <td class="th-center">{{ p[2] | number }}</td>
                                    <td class="th-center" *ngIf="token.getUser().roles=='ROLE_ADMIN'">{{ p[1] | number: '.3' }}</td>
                                    <td class="th-center">{{ p[3] | number: '.3' }}</td>
                                    <td class="th-center">{{ p[4] | number: '.3' }}</td>
                                     <td class="th-center">{{ p[6] | number: '.3'}}</td>
                                    <td class="th-center">{{ p[7] | number: '.3'}}</td>
                                </tr>
                            </tbody>
                          <tfoot>
                          <tr>
                            <th>Total</th>
                            <th class="th-nober"></th>
                            <th class="th-nober" *ngIf="token.getUser().roles=='ROLE_ADMIN'"></th>
                            <th class="th-nober" ></th>
                            <th class="th-nober"></th>
                             <th class="th-nober"></th>
                            <th class="th-nober"></th>
                          </tr>
                       
                          </tfoot>
                        </table>
                    </div>
                </nb-card-body>
            </nb-card>
        </div>
    </nb-card-body>
</nb-card>
